{"version":3,"sources":["webpack:///webpack/bootstrap 6ce7d7b312aa8cf60639?e870*","webpack:///external \"electron\"?6928*","webpack:///./src/main/createFileManager.js","webpack:///./src/main/createMainWindow.js","webpack:///./src/main/createPDFWindow.js","webpack:///./src/main/setAppMenu.js","webpack:///./src/main/showExportPDFDialog.js","webpack:///./src/main/showOpenFileDialog.js","webpack:///./src/main/showSaveAsNewFileDialog.js","webpack:///external \"events\"","webpack:///external \"fs\"","webpack:///./src/main/index.js"],"names":["FileManager","constructor","filePath","saveFile","text","Promise","resolve","fs","writeFileSync","readFile","readFileSync","overwriteFile","writePDF","pdf","createFileManager","MainWindow","window","titleBarStyle","width","height","loadURL","__dirname","on","webContents","e","url","preventDefault","shell","openExternal","requestText","send","ipcMain","once","_e","sendText","createMainWindow","PDFWindow","show","returnValue","emit","generatePDF","reject","printToPDF","error","data","close","createPDFWindow","contents","fileManager","setAppMenu","options","template","label","submenu","accelerator","click","openFile","saveAsNewFile","exportPDF","role","BrowserWindow","getFocusedWindow","toggleDevTools","process","platform","unshift","app","quit","Menu","setApplicationMenu","buildFromTemplate","showExportPDFDialog","file","dialog","showSaveDialog","title","filter","name","extensions","showOpenFileDialog","files","showOpenDialog","properties","length","showSaveAsNewFileDialog","mainWindow","hasVisibleWindow","then","catch","console","log","all","pdfWindow"],"mappings":"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","file":"dist/main/index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 795);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 6ce7d7b312aa8cf60639","module.exports = require(\"electron\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"electron\"\n// module id = 36\n// module chunks = 0 1 2","import fs from \"fs\";\n\nclass FileManager {\n    constructor() {\n        this.filePath = \"\";\n    }\n\n    saveFile(filePath, text) {\n        return new Promise((resolve) => {\n            fs.writeFileSync(filePath, text);\n            this.filePath = filePath;\n            resolve();\n        });\n    }\n\n    readFile(filePath) {\n        return new Promise((resolve) => {\n            const text = fs.readFileSync(filePath, \"utf8\");\n            this.filePath = filePath;\n            resolve(text);\n        });\n    }\n\n    overwriteFile(text) {\n        return this.saveFile(this.filePath, text);\n    }\n\n    writePDF(filePath, pdf) {\n        return new Promise((resolve) => {\n            fs.writeFileSync(filePath, pdf);\n            resolve();\n        });\n    }\n}\n\nfunction createFileManager() {\n    return new FileManager();\n}\n\nexport default createFileManager;\n\n\n// WEBPACK FOOTER //\n// ./src/main/createFileManager.js","'use strict';\n\nimport { BrowserWindow, ipcMain, shell } from \"electron\";\n\nclass MainWindow {\n    constructor() {\n        this.window = new BrowserWindow({ titleBarStyle: 'hidden', width: 1200, height: 800 });\n        this.window.loadURL(`file://${__dirname}/../../index.html`);\n        this.window.on(\"closed\", () => {\n            this.window = null;\n        });\n\n        this.window.webContents.on(\"will-navigate\", (e, url) => {\n            e.preventDefault();\n            shell.openExternal(url);\n        });\n    }\n\n    requestText() {\n        return new Promise((resolve) => {\n            this.window.webContents.send(\"REQUEST_TEXT\");\n            ipcMain.once(\"REPLY_TEXT\", (_e, text) => resolve(text));\n        });\n    }\n\n    sendText(text) {\n       this.window.webContents.send(\"SEND_TEXT\", text);\n    }\n}\n\nfunction createMainWindow() {\n    return new MainWindow();\n}\n\n\nexport default createMainWindow;\n\n\n// WEBPACK FOOTER //\n// ./src/main/createMainWindow.js","import { BrowserWindow } from \"electron\";\nimport { ipcMain } from \"electron\";\nimport EventEmitter from \"events\";\n\nclass PDFWindow extends EventEmitter {\n    constructor(text) {\n        super(text);\n        this.window = new BrowserWindow({ show: false });\n        this.window.loadURL(`file://${__dirname}/../../pdf.html`);\n\n        ipcMain.once(\"REQUEST_TEXT\", (e) => {\n            e.returnValue = text;\n        });\n\n        ipcMain.once(\"RENDERED_CONTENTS\", () => {\n            this.emit(\"RENDERED_CONTENTS\");\n        });\n    }\n\n    generatePDF() {\n        return new Promise((resolve, reject) => {\n            this.window.webContents.printToPDF({}, (error, data) => {\n                if (error) {\n                    reject(error);\n                } else {\n                    resolve(data);\n                }\n            });\n        });\n    }\n\n    close() {\n        this.window.close();\n        this.window.on(\"closed\", () => {\n            this.window = null;\n        });\n    }\n}\n\nfunction createPDFWindow(contents, fileManager) {\n    return new PDFWindow(contents, fileManager);\n}\n\nexport default createPDFWindow;\n\n\n// WEBPACK FOOTER //\n// ./src/main/createPDFWindow.js","import { app, Menu, BrowserWindow } from \"electron\";\n\nfunction setAppMenu(options) {\n    const template = [\n        {\n            label: \"ファイル\",\n            submenu: [\n                { label: \"ファイルを開く\", accelerator: \"CmdOrCtrl+O\", click: () => options.openFile() },\n                { label: \"保存\", accelerator: \"CmdOrCtrl+S\", click: () => options.saveFile() },\n                { label: \"名前を付けて保存\", click: () => options.saveAsNewFile() },\n                { label: \"PDFファイルを出力\", click: () => options.exportPDF() }\n            ]\n        },\n        {\n            label: \"編集\",\n            submenu: [\n                { label: \"コピー\", accelerator: \"CmdOrCtrl+C\", role: \"copy\" },\n                { label: \"ペースト\", accelerator: \"CmdOrCtrl+V\", role: \"paste\" },\n                { label: \"カット\", accelerator: \"CmdOrCtrl+X\", role: \"cut\" },\n                { label: \"すべて選択\", accelerator: \"CmdOrCtrl+A\", role: \"selectall\" }\n            ]\n        },\n        {\n            label: \"表示\",\n            submenu: [\n                {\n                    label: \"デベロッパーツール\",\n                    accelerator: \"Alt+Command+I\",\n                    click: () => BrowserWindow.getFocusedWindow().toggleDevTools()\n                }\n            ]\n        }\n    ];\n\n    if (process.platform === \"darwin\" ) {\n        template.unshift(\n            {\n                label: \"MarkDownEditor\",\n                submenu: [\n                    { label: \"終了\", accelerator: \"CmdOrCtrl+Q\", click: () => app.quit() }\n                ]\n            }\n        );\n    }\n\n    Menu.setApplicationMenu(Menu.buildFromTemplate(template));\n}\n\nexport default setAppMenu;\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/setAppMenu.js","import { dialog } from \"electron\";\n\nfunction showExportPDFDialog() {\n    return new Promise((resolve, reject) => {\n        const file = dialog.showSaveDialog(\n            {\n                title: \"PDFを出力\",\n                filter: [{ name: \"pdf file\", extensions: [\"pdf\"] }]\n            }\n        );\n\n        if (file) {\n            resolve(file);\n        } else {\n            reject();\n        }\n    });\n}\n\nexport default showExportPDFDialog;\n\n\n// WEBPACK FOOTER //\n// ./src/main/showExportPDFDialog.js","import { dialog } from \"electron\";\n\nfunction showOpenFileDialog() {\n    return new Promise((resolve, reject) => {\n        const files = dialog.showOpenDialog(\n            {\n                title: \"open\",\n                properties: [ \"openFile\" ],\n                filter: [{ name: \"markdown file\", extensions: [\"md\"] }]\n            }\n        );\n\n        if (files && files.length > 0) {\n            resolve(files[0]);\n        } else {\n            reject();\n        }\n    });\n}\n\nexport default showOpenFileDialog;\n\n\n// WEBPACK FOOTER //\n// ./src/main/showOpenFileDialog.js","import { dialog } from \"electron\";\n\nfunction showSaveAsNewFileDialog() {\n    return new Promise((resolve, reject) => {\n        const file = dialog.showSaveDialog(\n            {\n                file: \"save\",\n                filter: [{ name: \"markdown file\", extensions: [\"md\"] }]\n            }\n        );\n        if (file) {\n            resolve(file);\n        } else {\n            reject();\n        }\n    });\n}\n\nexport default showSaveAsNewFileDialog;\n\n\n// WEBPACK FOOTER //\n// ./src/main/showSaveAsNewFileDialog.js","module.exports = require(\"events\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"events\"\n// module id = 793\n// module chunks = 2","module.exports = require(\"fs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs\"\n// module id = 794\n// module chunks = 2","import { app } from \"electron\";\nimport createMainWindow from \"./createMainWindow\";\nimport setAppMenu from \"./setAppMenu\";\nimport showSaveAsNewFileDialog from \"./showSaveAsNewFileDialog\";\nimport createFileManager from \"./createFileManager\";\nimport showOpenFileDialog from \"./showOpenFileDialog\";\nimport createPDFWindow from \"./createPDFWindow\";\nimport showExportPDFDialog from \"./showExportPDFDialog\";\n\n\nlet mainWindow = null;\nlet fileManager = null;\n\napp.on(\"window-all-closed\", () => {\n    if (process.platform !== \"darwin\") {\n        app.quit();\n    }\n});\n\napp.on(\"activate\", (_e, hasVisibleWindow) => {\n    if (!hasVisibleWindow) {\n        mainWindow = createMainWindow();\n    }\n});\n\nfunction openFile() {\n    showOpenFileDialog().then((filePath) => fileManager.readFile(filePath))\n        .then((text) => mainWindow.sendText(text))\n        .catch((error) => {\n            console.log(error);\n        });\n}\n\nfunction saveFile() {\n    if (!fileManager.filePath) {\n        saveAsNewFile();\n        return;\n    }\n\n    mainWindow.requestText().then((text) => fileManager.overwriteFile(text))\n        .catch((error) => {\n            console.log(error);\n        });\n}\n\nfunction saveAsNewFile() {\n    Promise.all([ showSaveAsNewFileDialog(), mainWindow.requestText() ])\n        .then(([filePath, text]) => fileManager.saveAsNewFile(filePath, text))\n        .catch((error) => {\n            console.log(error);\n    });\n}\n\nfunction exportPDF() {\n    Promise.all([ showExportPDFDialog(), mainWindow.requestText() ]).then(([filePath, text]) => {\n        const pdfWindow = createPDFWindow(text);\n        pdfWindow.on(\"RENDERED_CONTENTS\", () => {\n            pdfWindow.generatePDF().then((pdf) => fileManager.writePDF(filePath, pdf))\n                .then(() => pdfWindow.close())\n                .catch((error) => {\n                    console.log(error);\n                    pdfWindow.close();\n                });\n        });\n    }).catch((error) => {\n        console.log(error);\n    });\n}\n\napp.on(\"ready\", () => {\n    mainWindow = createMainWindow();\n    fileManager = createFileManager();\n    setAppMenu({ openFile, saveFile, saveAsNewFile, exportPDF });\n});\n\n\n// WEBPACK FOOTER //\n// ./src/main/index.js"],"sourceRoot":""}